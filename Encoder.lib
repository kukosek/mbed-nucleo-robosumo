http://os.mbed.com/users/vsluiter/code/Encoder/#18b000b443af
